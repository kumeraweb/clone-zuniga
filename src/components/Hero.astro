---
import type { Executive } from '../data/data'
import { buildLinks } from '../data/data'

type Props = {
  executive: Executive
  backgroundVideo?: string // ej: "/videos/hero-ucm.mp4"
  backgroundImage?: string // fallback image
}

const { executive, backgroundVideo, backgroundImage } = Astro.props
const { wa, call } = buildLinks(executive)
---

<section
  class="relative w-full min-h-[75vh] md:min-h-[90vh] overflow-hidden bg-ucm-blue text-white md:grid md:grid-cols-2"
>
  <!-- BRAND LOGO (anchor, not header) -->
  <div class="relative md:absolute md:top-6 md:left-12 z-20 w-full md:w-auto px-5 pt-3 md:pt-0">
    <img
      src="/logo/faviconb.png"
      alt="Unidad Coronaria Móvil UCM"
      class="h-16 md:h-22 w-auto"
      loading="eager"
    />
  </div>

  <!-- BACKGROUND VIDEO / IMAGE -->
  <div class="absolute inset-0 md:static md:col-span-1 md:h-full">
    {
      backgroundVideo ? (
        <video
          class="w-full h-full object-cover"
          autoplay
          muted
          loop
          playsinline
          poster={backgroundImage}
        >
          <source src={backgroundVideo} type="video/mp4" />
        </video>
      ) : (
        backgroundImage && (
          <img
            src={backgroundImage}
            alt="Unidad Coronaria Móvil UCM"
            class="w-full h-full object-cover"
          />
        )
      )
    }
  </div>

  <!-- OVERLAY (solo mobile) -->
  <div class="absolute inset-0 bg-black/55 md:hidden"></div>

  <!-- CONTENT -->
  <div
    class="relative z-10 flex flex-col justify-center h-full px-5 pt-58 pb-10 space-y-6
              md:justify-center md:px-12 md:pt-0 md:pb-0 md:bg-ucm-blue"
  >
    <div
      class="space-y-3 bg-black/40 backdrop-blur-sm rounded-xl p-4
             md:bg-transparent md:backdrop-blur-0 md:p-0"
    >
      <p class="uppercase tracking-wide text-sm text-white/80">Unidad Coronaria Móvil</p>

      <h1 class="text-3xl leading-tight font-bold">Contrata tu Plan UCM</h1>

      <p class="text-base text-white/90">
        Atención médica a domicilio 24/7. Afíliate hoy con
        <strong> {executive.fullName}</strong>, ejecutiva autorizada.
      </p>
    </div>

    <!-- CTA PRIMARY -->
    <div class="space-y-3">
      <a
        href={wa}
        data-cta="whatsapp"
        class="block w-full text-center bg-ucm-blue-light py-4 rounded-lg font-semibold text-lg"
      >
        Atención por WhatsApp
      </a>

      <a
        href={call}
        data-cta="llamar"
        class="block w-full text-center bg-white text-ucm-blue py-4 rounded-lg font-semibold text-lg"
      >
        Llamar para cotizar
      </a>
    </div>

    <!-- TRUST LINE -->
    <p class="text-xs text-white/80">
      Página operada por ejecutiva autorizada UCM · No es canal de emergencias
    </p>
  </div>
</section>
